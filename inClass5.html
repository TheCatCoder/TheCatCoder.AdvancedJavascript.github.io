<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script src="jquery.js" charset="utf-8"></script>
    <script src="jquery-cycle-all.js" charset="utf-8"></script>
    <script src="bookInfo.js" charset="utf-8"></script>
    <meta charset="utf-8">
    <title>Carousel</title>
  </head>
  <body>
    <center>
      <div id="main"><h2>Books Carousel</h2></div>
    <div>
      <table style="width:500px">
        <tr style="height: auto">
          <td><a href="#" id="prev">Previous</a></td>
          <td style="width:300px; height:auto"><div id="books"></div></td>
          <td><a href="#" id="next">Next</a></td>
        </tr>
      </table>
    </div>
    <div id="information">
      <figure>
        <figcaption></figcaption>
      </figure>
    </div>
    </center>
  </body>
  <script type="text/javascript">

    const url = 'products.json';

    //grabbing the json file and starting to populate the page
    $(document).ready(function() {
      $.getJSON(url, function(data) {
          /*optional stuff to do after success */
          //console.log(data);
          //console.log(data.book[1]); //how to get each book's info
          let html = '';

          $.each(data, function(key, value) {
            $.each(value, function(index, stuff) {
              console.log(index + " " + stuff.Author);

              html += '<div class="books">';
              html += '<h2 id="title">' + stuff.Title + '</h2>';
              html += '<h4>' + stuff.Author + '</h4>';
              html += '<p onclick="bookinfo(' + stuff.id +  ')"><img src="' +
              stuff.Source + '" style="max-width:100%; max-height:100%;"></p>' +
              '<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div>';
            });
          });

          $('#books').html(html);

          //cycle plugin code
          $('#books').cycle({
            fx: 'fade',
            pause: '1',
            prev: '#prev',
            next: '#next',
            speed: 500,
            timeout: 40000
          })
      });
    });

  </script>
</html>
